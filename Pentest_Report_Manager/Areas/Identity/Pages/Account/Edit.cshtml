@page
@model EditModel
@{
    ViewData["Title"] = "Update User";
}



<style>
    @@media (min-width: 470px) {
        .registerCard {
            width: 470px !important;
        }
    }

    asdf {
        color: #757575;
    }
</style>

<!-- form register -->
<div class="card registerCard col-12  mx-auto my-5">

    <h5 class="card-header info-color white-text text-center py-4">
        <strong>Update User</strong>
    </h5>

    <!--Card content-->
    <div class="card-body px-lg-5 pt-0">

        <!-- Form -->
        <form asp-route-returnUrl="@Model.ReturnUrl" asp-route-userName="@Model.Input.UserName" method="post" class="text-center">

            <div asp-validation-summary="All" class="text-danger"></div>


            <div class="md-form mt-0">
                <input type="text" asp-for="Input.FullName" class="form-control">
                <label asp-for="Input.FullName">Full Name</label>
                <span asp-validation-for="Input.FullName" class="text-danger"></span>
            </div>
            
            <div class="md-form mt-0">
                <input type="text" asp-for="Input.UserName" class="form-control">
                <label asp-for="Input.UserName">User Name</label>
                <span asp-validation-for="Input.UserName" class="text-danger"></span>
            </div>
            <div class="md-form mt-0">
                <input type="email" asp-for="Input.Email" class="form-control">
                <label asp-for="Input.Email">E-mail</label>
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            @{
                var deptList = new List<SelectListItem>();
                deptList.Add(new SelectListItem
                {
                    Text = "Please select user roles",
                    Value = "0",
                    Disabled = true,
                    Selected = true
                });

                foreach (ProJectSupport_UserRoles eVal in Enum.GetValues(typeof(ProJectSupport_UserRoles)))
                {

                    deptList.Add(new SelectListItem
                    {
                        Text = Enum.GetName(typeof(ProJectSupport_UserRoles), eVal),
                        Value = eVal.ToString(),
                        //Selected= Model.Input.UserRoles.Any(ur => ur.Role.Name == eVal.ToString() )   
                        // this jsut activate it and does not select it by default. (posting list will not select this item by default)
                        
                    });
                }

            }
            <div class="form-row">
                <div class="d-inline-block selectdiv">
                    <select multiple name="UserRoles" id="UserRoles" 
                            class="mdb-select initialized md-form  pr-3  colorful-select dropdown-primary my-0"
                            asp-items="@deptList"></select>
                </div>
            </div>
            <br />

            <!-- Sign up button -->
            <button class="btn btn-info btn-rounded  mb-4 " type="submit">Apply</button>
            <a role="button" class="btn btn-outline-info btn-rounded mb-4 " href="~/settings/UsersList">Back</a>

        </form>
        <!-- Form -->

    </div>

</div>
<!-- Material form register -->




<style>
    .selectdiv {
        width: 100%;
    }
</style>



@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}



<script>
    $(document).ready(function () {
        $('.mdb-select').materialSelect();
    });


</script>

