@model ProjectSupport.Core.Models.JobTask

@{
    ViewData["Title"] = "Create";
}





<style>
    #navbarFixedTop {
        padding-top: 10px !important;
        padding-bottom: 0px !important;
        align-items: stretch;
    }

    #NavbarlinksContainer {
        min-width: 200px !important;
    }
</style>
<nav id="navbarFixedTop" class="navbar navbar-toggleable-md navbar-expand-lg scrolling-navbar double-nav mx-n3 mb-1">


    <!-- title -->
    <div class="d-inline-block pl-3 pr-5 text-left mt-1 mb-2">
        Create a New Task for the project "@Model.Project.ProjectName"
    </div>

</nav>







<form asp-action="Create"
asp-all-route-data="MyUtilities.ParseQueryString(((IMy_Service_Provider)ViewBag.sp).httpContext.Request.QueryString.ToString())"
      class="row text-left border border-light p-5 md-form mt-1">

    
    <div class="form-group col-12 col-md-6">
        <input type="text" id="Title" class="form-control" asp-for="@Model.Title" />
        <label for="Title">@Html.DisplayNameFor(m => m.Title)</label>
        <span asp-validation-for="Title" class="text-danger"></span>
    </div>
    <div class="form-group col-12 col-md-6">
        <select asp-for="PentestType" class="mdb-select md-form colorful-select dropdown-primary my-0" asp-items="Html.GetEnumSelectList<PentestType>()">
            <option disabled selected="selected" value="0">Please select Pentest Type</option>
        </select>
        <span asp-validation-for="PentestType" class="text-danger"></span>
    </div>
    <div class="form-group col-12">
        <textarea id="Description" class="form-control md-textarea" asp-for="Description" rows="3"></textarea>
        <label for="Description">@Html.DisplayNameFor(m => m.Description)</label>
        <span asp-validation-for="Description" class="text-danger"></span>
    </div>
    <div class="form-group col-12">
        <textarea id="ExternalRequesterDetails" class="form-control md-textarea" asp-for="ExternalRequesterDetails" rows="1"></textarea>
        <label for="ExternalRequesterDetails">@Html.DisplayNameFor(m => m.ExternalRequesterDetails)</label>
        <span asp-validation-for="ExternalRequesterDetails" class="text-danger"></span>
    </div>

    <div class="form-group col-12 col-md-6">
        <input type="text" id="PeriodNameForThirdParties" class="form-control" asp-for="PeriodNameForThirdParties" />
        <label for="PeriodNameForThirdParties">@Html.DisplayNameFor(m => m.PeriodNameForThirdParties)</label>
        <span asp-validation-for="PeriodNameForThirdParties" class="text-danger"></span>
    </div>

    <div class="form-group col-4 col-md-2">

        <input type="number" id="DeadlineDays" class="form-control" asp-for="@Model.DeadlineDays">
        <label for="DeadlineDays">@Html.DisplayNameFor(m => m.DeadlineDays)</label>

        <span asp-validation-for="DeadlineDays" class="text-danger"></span>
    </div>



    <div class="form-group col-12 col-md-6">
        <input asp-for="Project_Ref" class="form-control mb-4" hidden asp-items="ViewBag.Project_Ref" />
        <input class="form-control mb-4" hidden name="FormId" value="@ViewBag.FormId" />
        <input class="form-control mb-4" hidden name="Mac" value="@ViewBag.mac" />
    </div>




    <div class="card-body p-0 text-left form-group col-12 mt-1 mb-0">
        <h5 class=" mb-0  mr-auto d-inline-block pr-3">Pentesters:</h5>
        <div class="d-inline-block " style="min-width:50%;">
            <select asp-for="Pentesters" class=" mdb-select pr-3 md-form colorful-select dropdown-primary my-0" asp-items="@ViewBag.Pentesters">
                <option disabled selected="selected" value="0">Please select Assigned Pentesters</option>
            </select>

            @*<select class="mdb-select md-form" multiple>
                    <option value="" data-icon="https://mdbootstrap.com/img/Photos/Avatars/avatar-1.jpg" class="rounded-circle">
                        ali
                    </option>
                    <option value="" data-icon="https://mdbootstrap.com/img/Photos/Avatars/avatar-2.jpg" class="rounded-circle">
                        reza
                    </option>
                    <option value="" data-icon="https://mdbootstrap.com/img/Photos/Avatars/avatar-3.jpg" class="rounded-circle">
                        mahdi
                    </option>
                </select>*@
        </div>
    </div>



    <hr class="my-5 w-100" />






    @{
        var urls = new AttachmentUploadObject(ViewBag.sp)
        {
            Attachments = Model.Attachments
        };
    }
    <partial name="~/Views/Shared/Partials/Attachment/AttachmentLoader.cshtml" for="@urls" />







    <div asp-validation-summary="ModelOnly" class="alert alert-danger myRtL col-12 mt-5"></div>


    <div class="form-group col-12 mt-5 mb-0 text-center">
        <input type="submit" value="Create" class="btn btn-info btn-block btn-md" />
        <a href="~/Projects/@Model.Project_Ref/" class="btn btn-light btn-md">Cancel</a>
    </div>
</form>


<script>
    $(document).ready(function () {
        $('.mdb-select').materialSelect();
    });


</script>






