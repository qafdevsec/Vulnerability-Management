@using Microsoft.AspNetCore.Identity
@inject SignInManager<ProjectSupport.Core.Models.ApplicationUser> SignInManager
@inject UserManager<ProjectSupport.Core.Models.ApplicationUser> UserManager

@{ 
    ApplicationUser applicationUser = await UserManager.GetUserAsync(User);
}
@if (SignInManager.IsSignedIn(User) && applicationUser != null)
{
    <!-- Basic dropdown -->
    <button class="btn btn-light btn-rounded btn-sm waves-effect waves-light dropdown-toggle  w-100" type="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
        @applicationUser.FullName
    </button>

    <div class="dropdown-menu w-100">
        <a class="dropdown-item my-0"  asp-area="Identity" asp-page="/Account/Manage/Index">Manage</a>
        <div class="dropdown-divider"></div>
        <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Projects", new { area = "" })">
            <input type="submit" class="dropdown-item" value="Logout" />
        </form>
        
    </div>
    <style>
        .side-nav .dropdown-menu .dropdown-item {
            font-size: 12px;
            height: 24px;
            line-height: 20px;
            padding-left: 30px;
        }
    </style>
    <!-- Basic dropdown -->
}
else
{

    <a id="navbar-static-login" asp-area="Identity" asp-page="/Account/Login" class="btn btn-light btn-rounded btn-sm waves-effect waves-light " >
        <div>
            Sign In
            <i class="fas fa-sign-in-alt ml-2"></i>
        </div>
    </a>
    <style>
        #navbar-static-login {
            height: 36px !important;
        }

            #navbar-static-login div {
                margin-top: -15px;
            }
    </style>
}


